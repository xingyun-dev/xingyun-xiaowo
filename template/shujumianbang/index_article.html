<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>ä¸ªäººæ•°æ®ä¸­å¿ƒğŸ”¥æ–‡ç« æ•°æ®</title>
        <link rel="icon" href="/images/xingshixiaowo.ico">

    <link href="/person/css/float-chart.css" rel="stylesheet"/>
    <link href="/person/css/style.min.css" rel="stylesheet"/>
    <script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://assets.pyecharts.org/assets/echarts.min.js"></script>
    <style>
        .font-light {
            font-size: 16px;
        }
    </style>

</head>
<body>
{% include '/shujumianbang/side-header.html' %}

<div class="page-wrapper">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="page-breadcrumb">
        <div class="row">
            <div class="col-12 d-flex no-block align-items-center">
                <h4 class="page-title">ä¸ªäººæ–‡ç« æ•°æ®</h4>
                <div class="ms-auto text-end">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li id="time" style="font-size: 15px"></li>

                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">

        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <div class="d-md-flex align-items-center">
                            <div>
                                <h4 class="card-title">ä¸ªäººè¯¦ç»†æ–‡ç« æ•°æ®</h4>
                                <h5 class="card-subtitle">å±•ç¤ºä¸ªäººçš„æ–‡ç« ä¿¡æ¯,æ–¹ä¾¿å¯¹æ–‡ç« çš„ç®¡ç†</h5>
                            </div>
                        </div>
                        <div class="row" style="text-align: center;">

                            <div class="col-lg-5" style="text-align: center">
                                <div class="row">
                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-pencil fs-3 mb-1 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{article_count}}</h5>
                                            <small class="font-light" style="font-size: 16px">å‘è¡¨æ–‡ç« æ•°é‡</small>
                                        </div>
                                    </div>
                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-nature fs-3 mb-1 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{drafted_count}}</h5>
                                            <small class="font-light">å¾…å†™è‰ç¨¿æ•°é‡</small>
                                        </div>
                                    </div>
                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-fan fs-3 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{favorite_count}}</h5>
                                            <small class="font-light">æ”¶è—æ–‡ç« æ•°é‡</small>
                                        </div>
                                    </div>
                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-read fs-3 mb-1 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{read_count}}</h5>
                                            <small class="font-light">æ–‡ç« è¢«é˜…è¯»é‡</small>
                                        </div>
                                    </div>

                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-facebook fs-3 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{favorited_count}}</h5>
                                            <small class="font-light">æ–‡ç« è¢«æ”¶è—æ•°é‡</small>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!-- column -->
                            <!-- column -->
                            <div class="col-lg-2" style="margin: 10px 0">


                            </div>

                            <div class="col-lg-5" style="text-align: center;">
                                <div class="row">
                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-file-hidden fs-3 mb-1 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{hide_count}}</h5>
                                            <small class="font-light">æ–‡ç« è¢«éšè—é‡</small>
                                        </div>
                                    </div>
                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-sale fs-3 mb-1 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{recommend_count}}</h5>
                                            <small class="font-light">æ–‡ç« è¢«æ¨èé‡</small>
                                        </div>
                                    </div>


                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-comment fs-3 mb-1 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{comment_count}}</h5>
                                            <small class="font-light">å‘è¡¨è¯„è®ºæ•°é‡</small>
                                        </div>
                                    </div>
                                    <div class="col-6 mt-3">
                                        <div class="bg-dark p-10 text-white text-center">
                                            <i class="mdi mdi-comment-processing fs-3 mb-1 font-16"></i>
                                            <h5 class="mb-0 mt-1">{{commented_count}}</h5>
                                            <small class="font-light">æ¥æ”¶è¯„è®ºæ•°é‡</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--    </div>-->


        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row" style="text-align: center;">
                            <div class="col-6">
                                <div class="d-md-flex align-items-center " style="width:900px">
                                    <h2>å‘è¡¨ä¸åŒç±»å‹æ–‡ç« çš„æ•°é‡</h2>
                                </div>
                                <div id="pie-article" style="width:900px; height:500px;"></div>
                            </div>

                            <div class="col-6">
                                <div class="d-md-flex align-items-center " style="width:900px">
                                    <h2>ç”¨æˆ·æ–‡ç« ä¿¡æ¯</h2>
                                </div>
                                <div id="bar-article" style="width:900px; height:500px;"></div>
                            </div>
                            <div class="col-6">
                                <div class="d-md-flex align-items-center " style="width:900px">
                                    <h2>æ–‡ç« çš„æ—¶é—´è®°å½•</h2>
                                </div>
                                <div id="time-article" style="width:900px; height:500px;"></div>
                                <div id="time-article-year" style="width:900px; height:500px;"></div>

                            </div>
                            <div class="col-6">
                                <div class="d-md-flex align-items-center " style="width:900px">
                                        <h2>è¿‘äºŒåå¤©å‘å¸ƒæ–‡ç« é‡</h2>
                                </div>
                                <div id="time-article-day" style="width:900px; height:500px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

</div>

</div>
</div>


<script>
    //é¡¶éƒ¨æ—¶é—´
    function getTime() {
        var myDate = new Date();
        var myYear = myDate.getFullYear(); //è·å–å®Œæ•´çš„å¹´ä»½(4ä½,1970-????)
        var myMonth = myDate.getMonth() + 1; //è·å–å½“å‰æœˆä»½(0-11,0ä»£è¡¨1æœˆ)
        var myToday = myDate.getDate(); //è·å–å½“å‰æ—¥(1-31)
        var myDay = myDate.getDay(); //è·å–å½“å‰æ˜ŸæœŸX(0-6,0ä»£è¡¨æ˜ŸæœŸå¤©)
        var myHour = myDate.getHours(); //è·å–å½“å‰å°æ—¶æ•°(0-23)
        var myMinute = myDate.getMinutes(); //è·å–å½“å‰åˆ†é’Ÿæ•°(0-59)
        var mySecond = myDate.getSeconds(); //è·å–å½“å‰ç§’æ•°(0-59)
        var week = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
        var nowTime;

        nowTime = myYear + 'å¹´' + fillZero(myMonth) + 'æœˆ' + fillZero(myToday) + 'æ—¥' + '&nbsp;&nbsp;' + fillZero(myHour) + ':' + fillZero(myMinute) + ':' + fillZero(mySecond) + '&nbsp;&nbsp;' + week[myDay] + '&nbsp;&nbsp;';
        //console.log(nowTime);
        $('#time').html(nowTime);
    };

    function fillZero(str) {
        var realNum;
        if (str < 10) {
            realNum = '0' + str;
        } else {
            realNum = str;
        }
        return realNum;
    }

    //å¤§å±
    setInterval(getTime, 1000);

    var currentUrl = window.location.href;
    // åˆ†å‰²URLè·å–æœ€åä¸€ä¸ªæ–œæ åé¢çš„å†…å®¹ä½œä¸ºarticleid
    var userid = parseInt(currentUrl.split('/').pop(), 10);

    //æ–‡ç« ä¸åŒç±»å‹æ•°é‡çš„é¥¼å›¾
    var chart = echarts.init(document.getElementById('pie-article'), 'white', {renderer: 'canvas'});
    $(
        function () {
            fetchData(chart);

        }
    );

    function fetchData() {
        $.ajax({
            type: "POST",
            data: {
                userid: userid
            },
            url: "/py_echarts/pie-article-user",
            dataType: "json",
            success: function (result) {
                chart.setOption(result);
            }
        });
    }

    //æ–‡ç« æ€»ç»“çš„æ¡å½¢å›¾
    var chart_bar = echarts.init(document.getElementById('bar-article'), 'white', {renderer: 'canvas'});
    $(
        function () {
            fetchData_bar(chart_bar);

        }
    );

    function fetchData_bar() {
        $.ajax({
            type: "POST",
            data: {
                userid: userid
            },
            url: "/py_echarts/bar-article-user",
            dataType: "json",
            success: function (result) {
                chart_bar.setOption(result);
            }
        });
    }
    //æ–‡ç« çš„æ—¶é—´æ€»ç»“å›¾
     var chart_time = echarts.init(document.getElementById('time-article'), 'white', {renderer: 'canvas'});
    $(
        function () {
            fetchData_time(chart_time);

        }
    );

    function fetchData_time() {
        $.ajax({
            type: "POST",
            data: {
                userid: userid
            },
            url: "/py_echarts/time-article-user",
            dataType: "json",
            success: function (result) {
                chart_time.setOption(result);
            }
        });
    }


      //æ–‡ç« çš„æ—¶é—´æ€»ç»“å›¾
     var chart_time_day = echarts.init(document.getElementById('time-article-day'), 'white', {renderer: 'canvas'});
    $(
        function () {
            fetchData_time_day(chart_time_day);

        }
    );

    function fetchData_time_day() {
        $.ajax({
            type: "POST",
            data: {
                userid: userid
            },
            url: "/py_echarts/time-article-user-day",
            dataType: "json",
            success: function (result) {
                chart_time_day.setOption(result);
            }
        });
    }



      //æ–‡ç« çš„æ—¶é—´æ€»ç»“å›¾
     var chart_time_year = echarts.init(document.getElementById('time-article-year'), 'white', {renderer: 'canvas'});
    $(
        function () {
            fetchData_time_year(chart_time_year);

        }
    );

    function fetchData_time_year() {
        $.ajax({
           type: "POST",
            data: {
                userid: userid
            },
            url: "/py_echarts/time-article-user-year",
            dataType: "json",
            success: function (result) {
                chart_time_year.setOption(result);
            }
        });

    }


</script>

<script src="/person/js/jquery.min.js"></script>
<script src="/person/js/bootstrap.bundle.min.js"></script>
<script src="/person/js/perfect-scrollbar.jquery.min.js"></script>
<script src="/person/js/sparkline.js"></script>
<!--Wave Effects -->
<script src="/person/js/waves.js"></script>
<!--Menu sidebar -->
<script src="/person/js/sidebarmenu.js"></script>
<!--Custom JavaScript -->
<script src="/person/js/custom.min.js"></script>
<!--This page JavaScript -->
<!-- <script src="../dist/js/pages/dashboards/dashboard1.js"></script> -->
<!-- Charts js Files -->
<script src="/person/js/excanvas.js"></script>
<script src="/person/js/jquery.flot.js"></script>
<script src="/person/js/jquery.flot.pie.js"></script>
<script src="/person/js/jquery.flot.time.js"></script>
<script src="/person/js/jquery.flot.stack.js"></script>
<script src="/person/js/jquery.flot.crosshair.js"></script>
<script src="/person/js/jquery.flot.tooltip.min.js"></script>
<script src="/person/js/chart-page-init.js"></script>
</body>

</html>